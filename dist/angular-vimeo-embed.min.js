!function(e,i){"use strict";function t(e){return{restrict:"EA",replace:!0,scope:{videoId:"=",videoUrl:"=",playerOpts:"=",playerHeight:"=",playerWidth:"=",api:"="},link:function(i,t,o,r){var n=o.playerId||t[0].id;t[0].id=n;var a=i.videoId?"https://vimeo.com/"+i.videoId:i.videoUrl,d="?url="+encodeURIComponent(a)+"&player_id="+n,c=i.playerOpts||null;if(i.playerWidth&&(d+="&width="+i.playerWidth),i.playerHeight&&(d+="&height="+i.playerHeight),i.api&&(d+="&api=1"),c)for(var l in c)d+="&"+l+"="+c[l];e.oEmbed(d).then(function(e){t.html(e.html)})["catch"](function(e){t.html("<div>Failed to retreive video.</div>")})}}}function o(e,i){function t(t){return e.jsonp(i.trustAsResourceUrl(o+t),{jsonpCallbackParam:"callback"}).then(function(e){return e.data})["catch"](function(e){throw e})}var o="https://vimeo.com/api/oembed.json";return{oEmbed:t}}i.module("vimeoEmbed",[]).directive("vimeoVideo",["VimeoService",t]).factory("VimeoService",["$http","$sce",o])}(window,window.angular);